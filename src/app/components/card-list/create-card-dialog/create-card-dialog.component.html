<form #cardForm="ngForm" class="container" (ngSubmit)="saveCard(cardForm)">
  <h2 mat-dialog-title>Crear carta</h2>
  <mat-dialog-content class="dialog__content">
    <p>Introduce la pregunta y la respuesta de la carta como texto, o seleccione si quiere añadir una imagen en la pregunta o la respuesta.</p>
    <div class="dialog__content__question">
      <label>Pregunta</label>
      <mat-form-field appearance="outline" subscriptSizing="dynamic" class="form-field">
        <input matInput ngModel type="text" name="question" class="form-control" placeholder="Escribe la pregunta de la carta" >
      </mat-form-field>
    </div>

    <div class="dialog__content__answer">
      <label>Respuesta</label>
      <mat-form-field appearance="outline" subscriptSizing="dynamic" class="form-field">
        <input matInput ngModel type="text" name="answer" class="form-control" placeholder="Escribe la respuesta de la carta" >
      </mat-form-field>
    </div>

    <div class="dialog__content__checkbox">
      <input name="addImage" id="imageCheckbox" type="checkbox" class="css-checkbox" [(ngModel)]="addImageChecked">
      <label for="imageCheckbox">Añadir imagen</label>
    </div>
    <div class="dialog__content__image-container" *ngIf="addImageChecked">
      <mat-button-toggle-group name="imageLocation" [(ngModel)]="imageLocation" hideSingleSelectionIndicator="true" appearance="legacy">
        <mat-button-toggle value="question" disableRipple>Pregunta</mat-button-toggle>
        <mat-button-toggle value="answer" disableRipple>Respuesta</mat-button-toggle>
      </mat-button-toggle-group>
      <p>La imagen se puede añadir a la opción elegida sin añadir texto.</p>

      <div class="upload-container">
        <div class="file-drop-zone" (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)" (drop)="onDrop($event)" (click)="triggerFileInput()">
          <input type="file" [multiple]="false" #fileDropRef id="fileDropRef" style="display:none" (change)="onFileChange($event)" [accept]="allowedExtensions.join(',')"/>
          <mat-icon class="big-icon">upload</mat-icon>
          <label class="deck-image-name">{{fileDropText}}</label>
          <label>Arrastra y suelta o elige la imagen para la carta</label>
        </div>
      </div>
    </div>
    <mat-error *ngIf="!formValid">
      {{ errorText }}
    </mat-error>
  </mat-dialog-content>
  <mat-dialog-actions class="dialog__actions">
    <button mat-button class="cancel" (click)="cancel()">Cancelar</button>
    <button mat-flat-button class="create-card" >Crear carta</button>
  </mat-dialog-actions>
</form>
